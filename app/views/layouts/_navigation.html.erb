<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Admin</title>
    <head>
    </head>
  <body>
    <div class="container-fluid display-table">
      <div class="row display-table-row">
        <!-- side menu -->
        <div class="col-md-2 col-sm-1  hidden-xs display-table-cell valign-top" id="side-menu">
          <h1><span>Data<span><b>Burj</b></span></span></h1>
          <ul>
            <!--    <%= link_to "Dashboards", :controller => "users", :action => "index",:class => "hidden-sm hidden-xs glyphicon glyphicon-th" %></span>-->
            <li class="link settings-btn">
              <a href="/users">
                <span class="glyphicon glyphicon-th" aria-hidden="true"></span>
                <span class="hidden-sm hidden-xs">Dashboard</span>
                <!--<%= link_to 'Dashboard', users_path(:admin => "dashboard") %> </span>-->
              </a>
              
            </li>
            
            
            <li class="link">
              <a href="#collapse-post" data-toggle="collapse" aria-controls="collapse-post">
                <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
                <span class="hidden-sm hidden-xs">Students</span>
              </a>
              <ul class="collapse collapseable" id="collapse-post">
                <li>
                  <%= link_to 'View Students', users_path(:admin => "students_view") %>
                </li>
                <li>
                  <%= link_to 'Add Students', users_path( :admin => "student_add" ) %>
                </li>
              </ul>
            </li>

            <li class="link">
              <a href="#collapse-comments" data-toggle="collapse" aria-controls="collapse-comments">
                <span class="glyphicon glyphicon-education" aria-hidden="true"></span>
                <span class="hidden-sm hidden-xs">Instructors</span>
              </a>
              <ul class="collapse collapseable" id="collapse-comments">
                <li><%= link_to 'View Instructors', users_path(:admin => "instructors_view")%></li>
                <li><%= link_to 'Add Instructors', users_path(:admin => "instructor_add") %></li>
              </ul>
            </li>
            
            <li class="link">
              <a href="#collapse-sections" data-toggle="collapse" aria-controls="collapse-sections">
                <span class="glyphicon glyphicon-tags" aria-hidden="true"></span>
                <span class="hidden-sm hidden-xs">Sections</span>
              </a>
              <ul class="collapse collapseable" id="collapse-sections">
                <li>
                  <%= link_to 'View Sections',  users_path(:admin => "sections_view") %>
                </li>
                <li>
                  <%= link_to 'Add Sections', users_path(:admin => "section_add") %>
                </li>
              </ul>
            </li>
            <li class="link">
              <a href="commenters.html">
                <span class="glyphicon glyphicon-stats" aria-hidden="true"></span>
                <span class="hidden-sm hidden-xs">Attendance</span>
              </a>
            </li>
            <li class="link">
              <a href="tags.html">
                <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
                <span class="hidden-sm hidden-xs">Undertakings</span>
              </a>
            </li>
            <li class="link active">
              <a href="/users?admin=settings">
                <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
                <span class="hidden-sm hidden-xs">Settings</span>
              </a>
            </li>
          </ul>
        </div>
        <div class="col-md-10 col-sm-11 display-table-cell valign-top">
          <div class="row">
            <header id="nav-header" class="clearfix">
              <div class="col-md-5">
                <nav class="navbar-default pull-left">
                  <button type="button" class="navbar-toggle collapsed" data-toggle="offcanvas" data-target="#side-menu">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                  </button>
                </nav>
              </div>
              <div class="col-md-7">
                <ul class="pull-right">
                  <li id="welcome" class="hidden-xs">DataBurj administrator area</li>
                  <li class="fixed-width">
                    <a href="#">
                    </a>
                  </li>
                  <li>
                      <span class="glyphicon glyphicon-log-out" aria-hidden="true"></span>
                      <a class="logout"><%= link_to "Log out", :controller => 'users', :action => 'logout' %></a>
                    </a>
                  </li>
                </ul>
              </div>
            </header>
          </div>

<!--######################################################-->


<!--################################## STUDENTS #############################################-->

<% if @link == "student_add" %>
 <div class = "animated fadeIn">
  <div id="content">
    <header>
      <strong><class="page_title">Add new student</strong>
      <%= link_to "Return Without Saving", users_path( :admin => "students_view" ), :class => "btn btn-xs btn-primary pull-right", :role => "button" %>
    </header>
    <div class="content-inner">
      <div class="form-wrapper">
        <%= bootstrap_form_for Student.new do |f| %>
          <%= f.errors_on :name %>
          <%= f.text_field :name, label: "Name", :required => true%>
          <%= f.text_field :tracking_id, label: 'NOP Tracking ID', :required => true %>
           <!--<%= f.text_field :section, label: "Section", :required => true %>-->
          <%= f.select :section, [["Select:", "?"],["Section A", "A"], ["Section B", "B"],["Section C", "C"],["Section D", "D"],["Section E", "E"],["Section F", "F"],["Section G", "G"], ["Section H", "H"], ["Section I", "I"], ["Section J", "J"], ["Section K", "K"], ["Section L", "L"]], { label: "Section" },{ class: "selectpicker" } %>
          <%= f.text_field :father_name, label: 'Father Name', :required => true %>
          <%= f.text_field :DOB, label: 'Date of Birth', :required => true, help: "Be Careful! Enter date in dd/mm/yyyy pattern only" %>
          <%= f.select :SEX,[["Select:", "?"],["Male", "M"], ["Female", "F"]],{ label: "Gender" },{ class: "selectpicker" }    %>
          <%= f.text_field :matric_percentage, label: "Matric Percentage", :required => true %>
          <%= f.number_field :monthly_income, label: "Monthly income", :required => true %>
          <%= f.text_field :city, label: 'City' %>
          <%= f.email_field :email, label: 'Email Address' %>
          <%= f.text_field :phone_number, label: 'Phone Number', :required => true %>
          <%= f.text_field :secondary_phone_number, label: 'Secondary Phone Number', :required => true %>
          <%= f.text_field :mailing_address, label: 'Mailing Address'  %>
          <%= f.text_field :username, label: 'Username', :required => true  %>
          <%= f.text_field :password, label: 'Password', :required => true  %>
          <div class="clearfix" type = "submit">
            <%= f.submit  %>
            <% end %>
          </div>
        </form>
      </div>
    </div>
  </div>
<% end %>
<% if @link == "students_view" %>
 <div class = "animated fadeIn">
    <div id="dashboard-con">
      <div>
        <div class="dashboard-left-cell">
          <div class="admin-content-con">
            <header class="clearfix">
              <div class = "divider pull-left">
                <!--<%= form_tag users_path, :method => 'get' do %>-->
                <!--  <p>-->
                <!--    <%= text_field_tag :search, params[:search] %>-->
                <!--    <%= submit_tag "Search", :name => nil,:admin => "students_view" %>-->
                <!--  </p>-->
                <!--<% end %>-->
                <%= form_tag import_students_path, multipart: true do %>
                  <%= file_field_tag :file %>
                  <%= submit_tag "Import" %>
                <% end %>
              </div>
              <strong><h5 class="pull-left page_title">All Students</h5></strong>
              
              
              <div class = "divider pull-right">
                <%= form_tag :controller => :students, :action => :export do %>
                <%= submit_tag "Download in Excel", class: "btn btn-xs btn-primary pull-right", id: "export" %>
                <% end %> 
              </div>
              <%= link_to "Add new Student", users_path( :admin => "student_add" ), :class => "btn btn-xs btn-primary pull-right", :role => "button" %>
            </header>
            <table class="table table-striped">
            <thead>
              <tr>
                
                <th><%=  link_to :sort => "name", :admin => "students_view" do %>
                <strong><font size="3"> Name </font></strong></span><span class="glyphicon glyphicon-sort-by-alphabet" aria-hidden="true"><% end %></th>
                <th><%=  link_to :sort => "tracking_id", :admin => "students_view" do %>
                <strong><font size="3"> Tracking ID </font></strong></span><span class="glyphicon glyphicon-sort-by-order" aria-hidden="true"><% end %></th>            
                <th><%=  link_to :sort => "matric_percentage", :admin => "students_view" do %>
                <strong><font size="3"> Matric %age </font></strong></span><span class="glyphicon glyphicon-sort-by-order" aria-hidden="true"><% end %></th>            
                <th><%=  link_to :sort => "monthly_income", :admin => "students_view" do %>
                <strong><font size="3"> Income </font></strong></span><span class="glyphicon glyphicon-sort-by-order" aria-hidden="true"><% end %></th>            
                <th><%=  link_to :sort => "section", :admin => "students_view" do %>
                <strong><font size="3"> Section </font></strong></span><span class="glyphicon glyphicon-sort-by-alphabet" aria-hidden="true"><% end %></th>
                
                <th>Gender</th>
                <th>City</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <% @students.each do |student| %>
                <tr>
                  <td><%= student.name %></td>
                  <td><%= student.tracking_id %></td>
                  <td><%= student.matric_percentage %></td>
                  <td><%= student.monthly_income %></td>
                  <td><%= student.section %></td>
                  <td><%= student.SEX%></td>
                  <td><%= student.city%></td>
                  <td>
                    <%= link_to 'Edit', users_path(:id => student.id,:admin => "student_edit"), :class => 'btn btn-xs btn-warning', :role => "button" %>
                    <%= link_to 'View', users_path(:id => student.id,:admin => "student_view"), :class => 'btn btn-xs btn-primary', :role => "button" %>
                    <%= link_to 'Delete', student, method: :delete, :class => 'btn btn-xs btn-danger', :role => "button", :data => {confirm: 'Are you sure you want to delete this?'} %>
                  </td>
                </tr>
              <% end %> 
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  </div>

<% end %>
<% if @link == "student_edit" %>
 <div class = "animated fadeIn">
  <div id="content">
    <header>
      <strong><class="page_title">Edit <%= @student.name %>'s Information</strong>
      <%= link_to "Return Without Saving", users_path( :admin => "students_view" ), :class => "btn btn-xs btn-primary pull-right", :role => "button" %>
    </header>
    <div class="content-inner">
      <div class="form-wrapper">
          <%= bootstrap_form_for @student do |f| %>
            <%= f.errors_on :name %>
            <%= f.text_field :name, label: "Name", :required => true%>
            <%= f.text_field :tracking_id, label: 'NOP Tracking ID', value: "2016-N-", :required => true %>
            <%= f.select :section, [["Select:"],["Section A", "A"], ["Section B", "B"],["Section C", "C"],["Section D", "D"],["Section E", "E"],["Section F", "F"],["Section G", "G"], ["Section H", "H"], ["Section I", "I"], ["Section J", "J"], ["Section K", "K"], ["Section L", "L"]], { label: "Section" },{ class: "selectpicker" } %>
            <%= f.text_field :father_name, label: 'Father Name', :required => true %>
            <%= f.text_field :DOB, label: 'Date of Birth', :required => true, help: "Be Careful! Enter date in dd/mm/yyyy pattern only" %>
            <%= f.select :SEX, [["Select:"],["Male", "M"], ["Female", "F"]], { label: "Gender" },{ class: "selectpicker" } %>
            <%= f.number_field :matric_percentage, label: "Matric Percentage", :required => true %>
            <%= f.number_field :monthly_income, label: "Monthly income", :required => true %>
            <%= f.text_field :city, label: 'City' %>
            <%= f.email_field :email, label: 'Email Address' %>
            <%= f.text_field :phone_number, label: 'Phone Number', :required => true %>
            <%= f.text_field :secondary_phone_number, label: 'Secondary Phone Number', :required => true %>
            <%= f.text_field :mailing_address, label: 'Mailing Address'  %>
            <%= f.text_field :username, label: 'Username', :required => true  %>
            <div class="clearfix" type = "submit">
              <%= f.submit  %>
              <% end %>
            </div>
        </form>
      </div>
    </div>
  </div> 
<% end %>
<% if @link == "student_view" %>
  <div class = "animated fadeIn">
    <div id="dashboard-con">
      <div>
        <div class="dashboard-left-cell">
          <div class="admin-content-con">
            <header class="clearfix">
              <strong><h3 class="pull-left page_title"><%= @student.name %>'s details</h3></strong>
              <div class = "divider pull-right">
               <%= link_to "All Students", users_path( :admin => "students_view" ), :class => "btn btn-xs btn-primary pull-right", :role => "button" %>
            </header>
              <strong>Name:</strong>&nbsp;&nbsp;&nbsp;<%= @student.name %><hr/>
              <strong>Tracking ID:</strong>&nbsp;&nbsp;&nbsp;<%= @student.tracking_id %><hr/>
              <strong>Section:</strong>&nbsp;&nbsp;&nbsp;<%= @student.section %><hr/>
              <strong>Father's Name:</strong>&nbsp;&nbsp;&nbsp;<%= @student.father_name %><hr/>
              <strong>Date of Birth:</strong>&nbsp;&nbsp;&nbsp;<%= @student.DOB %><hr/>
              <strong>Matric Percentage:</strong>&nbsp;&nbsp;&nbsp;<%= @student.matric_percentage %><hr/>
              <strong>Monthly Income:</strong>&nbsp;&nbsp;&nbsp;<%= @student.monthly_income %><hr/>
              <strong>Gender:</strong>&nbsp;&nbsp;&nbsp;<%= @student.SEX %><hr/>
              <strong>City:</strong>&nbsp;&nbsp;&nbsp;<%= @student.city %><hr/>
              <strong>Email Address:</strong>&nbsp;&nbsp;&nbsp;<%= @student.email %><hr/>
              <strong>Phone number:</strong>&nbsp;&nbsp;&nbsp;<%= @student.phone_number %><hr/>
              <strong>Secondary Phone number:</strong>&nbsp;&nbsp;&nbsp;<%= @student.secondary_phone_number %><hr/>
              <strong>Mailing Address:</strong>&nbsp;&nbsp;&nbsp;<%= @student.mailing_address %><hr/>
              <strong>DataBurj Username:</strong>&nbsp;&nbsp;&nbsp;<%= @student.username %>
              <!--<strong>Phone no:</strong>&nbsp;&nbsp;&nbsp;<%= @student.name %><hr/>-->
          </div>
        </div>
      </div>
    </div>
  
<% end %>
<!--################################ INSTRUCTORS #############################################-->
<% if @link == "instructor_add" %>
 <div class = "animated fadeIn">
  <div id="content">
    <header>
      <h3 class="page_title">Add new instructor</h3>
    </header>
    <div class="content-inner">
      <div class="form-wrapper">
        <%= bootstrap_form_for Instructor.new do |f| %>
          <%= f.errors_on :instructor_name %>
          <%= f.text_field :instructor_name, label: "Name", :required => true%>
          <%= f.text_field :instructor_id, label: 'Instructor ID', :required => true %>
          <%= f.email_field :email, label: 'Email Address' %>
          <%= f.text_field :phone_number, label: 'Phone Number', :required => true %>
          <%= f.text_field :subject_name, label: 'Subject Name'  %>
          <%= f.text_field :username, label: 'Username', :required => true  %>
          <%= f.text_field :password, label: 'Password', :required => true  %>
          <div class="clearfix" type = "submit">
            <%= f.submit  %>
            <% end %>
          </div>
        </form>
      </div>
    </div>
  </div>
  </div>
<% end %>
<% if @link == "instructors_view" %>
 <div class = "animated fadeIn">
  <div id="dashboard-con">
    <div>
      <div class="dashboard-left-cell">
        <div class="admin-content-con">
          <header class="clearfix">
            <h5 class="pull-left page_title">All Instructors</h5>
            <div class = "divider pull-right">
              <%= form_tag :controller => :instructors, :action => :export do %>
                <%= submit_tag "Download in Excel", class: "btn btn-xs btn-primary pull-right", id: "export" %>
              <% end %>
            </div>
            <%= form_tag import_instructors_path, multipart: true do %>
              <%= file_field_tag :file %>
              <%= submit_tag "Import" %>
            <% end %>
            <%= link_to "Add new Instructor", users_path(:admin => "instructor_add"), :class => "btn btn-xs btn-primary pull-right", :role => "button" %>
          </header>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Instructor ID</th>
                <th>Instructor Name</th>
                <th>Email</th>
                <th>Phone Number</th>
                <th>Subject Name</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <% @instructors.each do |instructor| %>
                <tr>
                  <td><%= instructor.instructor_id %></td>
                  <td><%= instructor.instructor_name %></td>
                  <td><%= instructor.email %> </td>
                  <td><%= instructor.phone_number %> </td>
                  <td><%= instructor.subject_name %> </td>
                  <td>
                    <%= link_to 'Edit', users_path( :id => instructor.id ,  :admin => "instructor_edit"), :class => 'btn btn-xs btn-warning', :role => "button" %>
                    <%= link_to 'View', users_path(:admin => "instructors_notice"), :class => 'btn btn-xs btn-primary', :role => "button" %>
                    <%= link_to 'Delete', instructor, method: :delete, data: { confirm: 'Are you sure?' }, :class => 'btn btn-xs btn-danger', :role => "button" %>
                  </td>
                </tr>
              <% end %>                      
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  </div>
<% end %>
<% if @link == "instructor_edit" %>
<div class = "animated fadeIn">
    <div id="content">
      <header>
        <strong><class="page_title">Edit an instructor</strong>
        <%= link_to "Return Without Saving", users_path( :admin => "instructors_view" ), :class => "btn btn-xs btn-primary pull-right", :role => "button" %>
      </header>
      <div class="content-inner">
        <div class="form-wrapper">
          <%= bootstrap_form_for @instructor do |f| %>
            <%= f.errors_on :instructor_name %>
            <%= f.text_field :instructor_name, label: "Name", :required => true%>
            <%= f.text_field :instructor_id, label: 'Instructor ID' %>
            <%= f.email_field :email, label: 'Email Address' %>
            <%= f.text_field :phone_number, label: 'Phone Number', :required => true %>
            <%= f.text_field :subject_name, label: 'Subject Name'  %>
            <%= f.text_field :username, label: 'Username', :required => true  %>
            <div class="clearfix" type = "submit">
              <%= f.submit  %>
              <% end %>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
<% end %>
<!--#################################### SECTIONS ##################################################-->
<% if @link == "section_add" %>
 <div class = "animated fadeIn">
  <div id="content">
    <header>
      <h3 class="page_title">Add new Section</h3>
    </header>
    <div class="content-inner">
      <div class="form-wrapper">
        <%= bootstrap_form_for Section.new do |f| %>
          <%= f.errors_on :section %>
          <%= f.text_field :section_id, label: 'Section ID', :required => true %>
          <%= f.text_field :section, label: "Section Name", :required => true%>
          <%= f.text_field :room_location, label: 'Room Location', :required => true %>
          
          <div class="clearfix" type = "submit">
            <%= f.submit %>
            <% end %>
          </div>
        </form>
      </div>
    </div>
  </div>
  </div>
<% end %>

<% if @link == "sections_view" %>
 <div class = "animated fadeIn">
  <div id="dashboard-con">
    <div>
      <div class="dashboard-left-cell">
        <div class="admin-content-con">
          <header class="clearfix">
            <h5 class="pull-left">All Sections</h5>

            <div class = "divider pull-right">
              <%= form_tag :controller => :instructors, :action => :export do %>
                <%= submit_tag "Download in Excel", class: "btn btn-xs btn-primary pull-right", id: "export" %>
              <% end %>
            </div>
            <%= form_tag import_sections_path, multipart: true do %>
              <%= file_field_tag :file %>
              <%= submit_tag "Import" %>
            <% end %>
            <%= link_to "Add new Section", users_path(:admin => "section_add"), :class => "btn btn-xs btn-primary pull-right", :role => "button" %>
          </header>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Section ID</th>
                <th>Section Name</th>
                <th>Room Location</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <% @sections.each do |section| %>
                <tr>
                  <td><%= section.section_id %></td>
                  <td><%= section.section %></td>
                  <td><%= section.room_location %> </td>
                  <td>
                    <%= link_to 'Edit', users_path(:id => section , :admin => "section_edit"), :class => 'btn btn-xs btn-warning', :role => "button" %>
                    <%= link_to 'View', users_path(:id => section, :admin => "section_view"), :class => 'btn btn-xs btn-primary', :role => "button" %>
                    <%= link_to 'Delete', section, method: :delete, data: { confirm: 'Are you sure?' }, :class => 'btn btn-xs btn-danger', :role => "button" %>
                  </td>
                </tr>
              <% end %>                
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  </div>
<% end %>
<% if @link == "section_view" %>
  <h5>here all students of this section should be listed nicely please</h5>
<% end %>
<% if @link == "section_edit" %>
 <div class = "animated fadeIn">
  <div id="content">
    <header>
      <h3 class="page_title">Update a Section</h3>
    </header>
    <div class="content-inner">
      <div class="form-wrapper">
        <%= bootstrap_form_for @section do |f| %>
          <%= f.errors_on :section %>
          <%= f.text_field :section_id, label: 'Section ID', :required => true %>
          <%= f.text_field :section, label: "Section Name", :required => true%>
          <%= f.text_field :room_location, label: 'Room Location', :required => true %>
          
          <div class="clearfix" type = "submit">
            <%= f.submit  %>
            <% end %>
          </div>
        </form>
      </div>
    </div>
  </div>
  </div>
<% end %>
<% if @link == "settings" %>
            <div id="content">
	            <header class="clearfix">
	              <h3 class="page_title">Change your password</h3>
	            </header>

	            <div class="content-inner">
	              <div class="row">
	              	<div class="col-md-6">
	              		<form>
	              			<div class="settings-row">
	              				<h5>Current Password</h5>
	              				<div class="form-group">

	              				</div>
	              				<h5>New Password</h5>
	              				<div class="form-group">
	              					<input type="text" id="input" class="form-control"required="required" title="">
	              				</div>
	              				<h5>Confirm new Password</h5>
	              				<div class="form-group">
	              					<input type="text" id="input" class="form-control"required="required" title="">
	              				</div>
	              			</div>
	              			<button type="submit" class="btn btn-primary">Save Changes</button>
	              		</form>
	              	</div>
	              </div>
	            </div>
<% end %>
<!--################################################################################################-->

          <div class="row">
            <footer id="admin-footer" class="clearfix">
              <div class="pull-left"><b>Copyright </b>&copy; 2016. Lahore University of Management Sciences (LUMS), Pakistan - All Rights Reserved</div>
              <div class="pull-right"><a href = "https://www.facebook.com/groups/1717841335126709/" target="_blank">DataBurj Developers</a></div>
            </footer>
          </div>
      </div>
      </div>
    </div>


  </body>
</html>
